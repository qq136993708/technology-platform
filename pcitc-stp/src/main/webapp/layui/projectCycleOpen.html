<!DOCTYPE html>
<html style="background-color: #f1f2f7;">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <link rel="stylesheet" href="/layuiadmin/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="/layuiadmin/style/common.css?+Math.random()">
    <script src="/layuiadmin/layui/layui.js"></script>
</head>
<body>
<div class="cycle-img">

</div>

<script>
    layui.use(['jquery', 'form', 'laydate', 'table', 'laypage','laytpl','publicMethods'], function () {
        var table = layui.table, util = layui.laytpl, form = layui.form, laydate = layui.laydate, $ = layui.jquery,
            laytpl = layui.laytpl, publicMethods = layui.publicMethods;
        var data={
            "data":[
                {"name":"已做","contonet":"11111","start":"already"},
                {"name":"已做","contonet":"11111","start":"already"},
                {"name":"已做","contonet":"11111","start":"already","data":[
                        {"name":"已做","contonet":"11111","start":"already","to":"4"},
                        {"name":"已做","contonet":"11111","start":"already","to":"5"},
                    ]},
                {"name":"已做","contonet":"11111","start":"already"},
                {"name":"已做","contonet":"11111","start":"already","id":"4"},
                {"name":"未做","contonet":"11111","start":"not","id":"5"},
                {"name":"未做","contonet":"11111","start":"not","data":[
                        {"name":"已做","contonet":"11111","start":"already","to":"7"},
                        {"name":"已做","contonet":"11111","start":"already","to":"7"},
                    ]},
                {"name":"未做","contonet":"11111","start":"not","id":"7"}
            ]
        };
        var dataJson;
        for(var i in data=data.data ){
            var dataJson=data[i].data;
            var html='<div class="'+data[i].start+'" lay-class="'+i+'" style="left: '+102*i+'px;">' +
                '        <p>'+data[i].name+'</p>' +
                '        <p>'+data[i].contonet+'</p>' +
                '    </div>';
            $(".cycle-img").append(html);
            if(dataJson!=undefined){
                $.each(dataJson,function (k, val) {
                    if(k==0){
                        var top="15%";
                    }else if(k==1) {
                        var top="75%";
                    }
                    var html='<div class="already" lay-class="'+val.to+'" style="left: '+102*(parseInt(i)+1)+'px; top:'+top+'">' +
                        '        <p>'+data[i].name+'</p>' +
                        '        <p>'+data[i].contonet+'</p>' +
                        '    </div>';
                    $(".cycle-img").append(html);
                });
            }
        }
    });

</script>

</body>
</html>