<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <iframe style="border: none;" width="0" height="0"  src="/common/public/publicImport.html"></iframe>
    <style type="text/css">
    </style>
</head>
<body class="hold-transition skin-blue sidebar-mini">
<section class="content">
    <!--搜索-->
    <div class="content-searcXh">

    </div>
    <!--echarts-->
    <div class="content-body container">
        <div class="row echarts">
            <p>科研经费预算投入年度趋势分析</p>
            <div id="main1" style="width: 100%;"></div>
        </div>
        <div class="row">
            <div class="col-sm-4 echarts">
                <p>项目类型经费预算投入占比金额</p>
                <div id="main2"></div>
            </div>
            <div class="col-sm-4 echarts">
                <p>预算经费投入资金来源占比金额</p>
                <div id="main3"></div>
            </div>
            <div class="col-sm-4 echarts">
                <p>公司单位项目经费预算金额</p>
                <div id="main4"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4 echarts">
                <p>研究院实际经费投入占比分析</p>
                <div id="main5"></div>
            </div>
            <div class="col-sm-4 echarts">
                <p>研究院经费投入项目类别占比分析</p>
                <div id="main6"></div>
            </div>
            <div class="col-sm-4 echarts">
                <p>研究院实际经费投入管理类别占比分析</p>
                <div id="main7"></div>
            </div>
        </div>
        <div class="row echarts">
            <p>研究院科研经费计划达成率分析</p>
            <div id="main8"></div>
        </div>
    </div>
</section>
<script type="text/javascript">
    var v_date=(new Date()).getTime();
    var myChart1 = echarts.init(document.getElementById('main1'));
    var option1 = {
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                crossStyle: {
                    color: '#999'
                }
            }
        },
        legend: {
            type: 'scroll',
            bottom: 10,
            data:['计划经费','实际经费','达成率']
        },
        xAxis: [
            {
                type: 'category',
                data: ['2014','2015','2016','2017','2018'],
                axisPointer: {
                    type: 'shadow'
                }
            }
        ],
        yAxis: [
            {
                type: 'value',
                name: '数量',
                min: 0,
                max: 250,
                axisLabel: {
                    formatter: '{value}'
                }
            },
            {
                type: 'value',
                name: '百分比',
                min: 0,
                max: 100,
                axisLabel: {
                    formatter: '{value} %'
                }
            }
        ],
        series: [
            {
                name:'计划经费',
                type:'bar',
                color: ['#37A2DA'],
                data:[22, 44, 74, 24,22]
            },
            {
                name:'实际经费',
                type:'bar',
                color: ['#67E0E3'],
                data:[22, 24, 74, 54]
            },{
                name:'达成率',
                type:'line',
                color: ['#67E0E3'],
                data:[22, 24, 74, 54]
            }

        ]
    };

    myChart1.setOption(option1);

    function myChart1_choose()
    {
        myChart1.showLoading();//数据加载完之前先显示一段简单的loading动画
        var names=[];    //类别数组（实际用来盛放X轴坐标值）
        var nums=[];     //销量数组（实际用来盛放Y坐标值）
        $.ajax({
            type : "get",
            async : true,            //异步请求（同步请求将会锁住浏览器，用户其他操作必须等待请求完成才可以执行）
            url : "/project-decision/scientific-projects-comprehensive-analysis",
            data : {v_date:v_date},
            dataType : "json",        //返回数据形式为json
            success : function(result)
            {
                //请求成功时执行该函数内容，result即为服务器返回的json对象
                if(result.resultCode=='SUCCESS')
                {
                    var chartList=result.returnData.chart4;
                    //挨个取出类别并填入类别数组
                    for(var i=0;i<chartList.length;i++)
                    {
                        names.push(chartList[i].name);
                    }
                    //挨个取出销量并填入销量数组
                    for(var i=0;i<chartList.length;i++)
                    {

                        nums.push({
                            value: chartList[i].value,
                            name: chartList[i].name
                        });
                    }
                    //隐藏加载动画
                    myChart1.hideLoading();
                    //加载数据图表
                    myChart1.setOption({
                        legend: {
                            data: names
                        },
                        series: [{
                            // 根据名字对应到相应的系列
                            data: nums
                        }]
                    });

                }

            },
            error : function(errorMsg)
            {
                alert("图表请求数据失败!");
                myChart1.hideLoading();
            }
        })
    }
    myChart1_choose();
</script>
<!--<script type="text/javascript">
    var v_date=(new Date()).getTime();
    var myChart1 = echarts.init(document.getElementById('main1'));
    var option1 = {
        title : {
            text: '新增项目数量年度趋势统计分析',
            x:'center'
        },
        legend: {
            bottom: 10,
            data:['销量']
        },
        xAxis: {
            type: 'category',
            data: []
        },
        yAxis: {
            type: 'value'
        },
        series: [{
            name: '销量',
            data: [],
            type: 'bar'
        }]
    };
    myChart1.setOption(option1);

    function myChart1_choose()
    {

        myChart1.showLoading();//数据加载完之前先显示一段简单的loading动画
        var names=[];    //类别数组（实际用来盛放X轴坐标值）
        var nums=[];     //销量数组（实际用来盛放Y坐标值）
        $.ajax({
            type : "get",
            async : true,            //异步请求（同步请求将会锁住浏览器，用户其他操作必须等待请求完成才可以执行）
            url : "/project-decision/scientific-projects-comprehensive-analysis",
            data : {v_date:v_date},
            dataType : "json",        //返回数据形式为json
            success : function(result)
            {
                //请求成功时执行该函数内容，result即为服务器返回的json对象
                if(result.resultCode=='SUCCESS')
                {
                    var chartList=result.returnData.chart1;
                    //挨个取出类别并填入类别数组
                    for(var i=0;i<chartList.length;i++)
                    {
                        names.push(chartList[i].name);
                    }
                    //挨个取出销量并填入销量数组
                    for(var i=0;i<chartList.length;i++)
                    {
                        nums.push(chartList[i].value);
                    }
                    //隐藏加载动画
                    myChart1.hideLoading();
                    //加载数据图表
                    myChart1.setOption({
                        xAxis: {
                            data: names
                        },
                        series: [{
                            // 根据名字对应到相应的系列
                            data: nums
                        }]
                    });

                }

            },
            error : function(errorMsg)
            {
                alert("图表请求数据失败!");
                myChart1.hideLoading();
            }
        })
    }
    myChart1_choose();


    var myChart2 = echarts.init(document.getElementById('main2'));
    var option2 = {
        title : {
            text: '新增项目数量类型占比金额',
            x:'center'
        },
        tooltip : {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c} ({d}%)"
        },
        legend: {
            type: 'scroll',
            bottom: 10,
            data: []
        },
        series : [
            {
                name: '访问来源',
                type: 'pie',
                radius: ['20%', '50%'],
                avoidLabelOverlap: false,
                data:[],
                itemStyle: {
                    normal:{
                        label:{
                            show: true,
                            formatter: '{b} \n {c} ({d}%)'
                        },
                        labelLine :{show:true}
                    },
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }
        ]
    };
    myChart2.setOption(option2);

    function myChart2_choose()
    {
        myChart2.showLoading();//数据加载完之前先显示一段简单的loading动画
        var names=[];    //类别数组（实际用来盛放X轴坐标值）
        var nums=[];     //销量数组（实际用来盛放Y坐标值）
        $.ajax({
            type : "get",
            async : true,            //异步请求（同步请求将会锁住浏览器，用户其他操作必须等待请求完成才可以执行）
            url : "/project-decision/scientific-projects-comprehensive-analysis",
            data : {v_date:v_date},
            dataType : "json",        //返回数据形式为json
            success : function(result)
            {
                //请求成功时执行该函数内容，result即为服务器返回的json对象
                if(result.resultCode=='SUCCESS')
                {
                    var chartList=result.returnData.chart2;
                    //挨个取出类别并填入类别数组
                    for(var i=0;i<chartList.length;i++)
                    {
                        names.push(chartList[i].name);
                    }
                    //挨个取出销量并填入销量数组
                    for(var i=0;i<chartList.length;i++)
                    {

                        nums.push({
                            value: chartList[i].value,
                            name: chartList[i].name
                        });
                    }
                    //隐藏加载动画
                    myChart2.hideLoading();
                    //加载数据图表
                    myChart2.setOption({
                        legend: {
                            data: names
                        },
                        series: [{
                            // 根据名字对应到相应的系列
                            data: nums
                        }]
                    });

                }

            },
            error : function(errorMsg)
            {
                alert("图表请求数据失败!");
                myChart2.hideLoading();
            }
        })
    }
    myChart2_choose();


    var myChart3 = echarts.init(document.getElementById('main3'));
    var option3 = {
        title : {
            text: '研究院新增项目数量占比分析（个）',
            x:'center'
        },
        tooltip : {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c} ({d}%)"
        },
        legend: {
            type: 'scroll',
            bottom: 10,
            /* x : 10,
             y : 100, */
            data: ['石勘院','物探院','工程院','石科院','抚研院','北化院','上海院','安工院']
        },
        series : [
            {
                name: '访问来源',
                type: 'pie',
                radius: ['20%', '50%'],
                avoidLabelOverlap: false,
                data:[
                    {value:135, name:'石勘院'},
                    {value:210, name:'物探院'},
                    {value:134, name:'工程院'},
                    {value:134, name:'石科院'},
                    {value:134, name:'抚研院'},
                    {value:134, name:'北化院'},
                    {value:134, name:'上海院'},
                    {value:134, name:'安工院'}
                ],
                itemStyle: {
                    normal:{
                        label:{
                            show: true,
                            formatter: '{b} \n {c} ({d}%)'
                        },
                        labelLine :{show:true}
                    },
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }
        ]
    };
    myChart3.setOption(option3);





    var myChart4 = echarts.init(document.getElementById('main4'));
    var option4 = {
        title: {
            text: '项目经费年度趋势统计分析',
            x:'center'
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                crossStyle: {
                    color: '#999'
                }
            }
        },
        toolbox: {
            feature: {
                dataView: {show: true, readOnly: false},
                magicType: {show: true, type: ['line', 'bar']},
                restore: {show: true},
                saveAsImage: {show: true}
            }
        },
        legend: {
            type: 'scroll',
            bottom: 10,
            data:['计划经费','实际经费','达成率']
        },
        xAxis: [
            {
                type: 'category',
                data: ['2014','2015','2016','2017','2018'],
                axisPointer: {
                    type: 'shadow'
                }
            }
        ],
        yAxis: [
            {
                type: 'value',
                name: '数量',
                min: 0,
                max: 250,
                axisLabel: {
                    formatter: '{value}'
                }
            },
            {
                type: 'value',
                name: '百分比',
                min: 0,
                max: 100,
                axisLabel: {
                    formatter: '{value} %'
                }
            }
        ],
        series: [
            {
                name:'计划经费',
                type:'bar',
                color: ['#37A2DA'],
                data:[22, 44, 74, 24,22]
            },
            {
                name:'实际经费',
                type:'bar',
                color: ['#67E0E3'],
                data:[22, 24, 74, 54]
            },{
                name:'达成率',
                type:'line',
                color: ['#67E0E3'],
                data:[22, 24, 74, 54]
            }

        ]
    };

    myChart4.setOption(option4);

    function myChart4_choose()
    {
        myChart4.showLoading();//数据加载完之前先显示一段简单的loading动画
        var names=[];    //类别数组（实际用来盛放X轴坐标值）
        var nums=[];     //销量数组（实际用来盛放Y坐标值）
        $.ajax({
            type : "get",
            async : true,            //异步请求（同步请求将会锁住浏览器，用户其他操作必须等待请求完成才可以执行）
            url : "/project-decision/scientific-projects-comprehensive-analysis",
            data : {v_date:v_date},
            dataType : "json",        //返回数据形式为json
            success : function(result)
            {
                //请求成功时执行该函数内容，result即为服务器返回的json对象
                if(result.resultCode=='SUCCESS')
                {
                    var chartList=result.returnData.chart4;
                    //挨个取出类别并填入类别数组
                    for(var i=0;i<chartList.length;i++)
                    {
                        names.push(chartList[i].name);
                    }
                    //挨个取出销量并填入销量数组
                    for(var i=0;i<chartList.length;i++)
                    {

                        nums.push({
                            value: chartList[i].value,
                            name: chartList[i].name
                        });
                    }
                    //隐藏加载动画
                    myChart4.hideLoading();
                    //加载数据图表
                    myChart4.setOption({
                        legend: {
                            data: names
                        },
                        series: [{
                            // 根据名字对应到相应的系列
                            data: nums
                        }]
                    });

                }

            },
            error : function(errorMsg)
            {
                alert("图表请求数据失败!");
                myChart4.hideLoading();
            }
        })
    }
    myChart4_choose();





    var myChart5 = echarts.init(document.getElementById('main5'));
    var option5 = {
        title : {
            text: '经费投入资金来源占比金额',
            x:'center'
        },
        tooltip : {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c} ({d}%)"
        },
        legend: {
            type: 'scroll',
            bottom: 10,
            /* x : 10,
             y : 100, */
            data: ['国家投入','中石化配套','中石总部','企业自筹']
        },
        series : [
            {
                name: '访问来源',
                type: 'pie',
                radius: ['20%', '50%'],
                avoidLabelOverlap: false,
                data:[
                    {value:135, name:'国家投入'},
                    {value:210, name:'中石化配套'},
                    {value:210, name:'中石总部'},
                    {value:134, name:'企业自筹'}
                ],
                itemStyle: {
                    normal:{
                        label:{
                            show: true,
                            formatter: '{b} \n {c} ({d}%)'
                        },
                        labelLine :{show:true}
                    },
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }
        ]
    };
    myChart5.setOption(option5);





    var myChart6 = echarts.init(document.getElementById('main6'));
    var option6 = {
        title : {
            text: '研究院项目实际经费占比分析（万元）',
            x:'center'
        },
        tooltip : {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c} ({d}%)"
        },
        legend: {
            type: 'scroll',
            bottom: 10,
            /* x : 10,
             y : 100, */
            data: ['石勘院','物探院','工程院','石科院','抚研院','北化院','上海院','安工院']
        },
        series : [
            {
                name: '访问来源',
                type: 'pie',
                radius: ['20%', '50%'],
                avoidLabelOverlap: false,
                data:[
                    {value:135, name:'石勘院'},
                    {value:210, name:'物探院'},
                    {value:134, name:'工程院'},
                    {value:134, name:'石科院'},
                    {value:134, name:'抚研院'},
                    {value:134, name:'北化院'},
                    {value:134, name:'上海院'},
                    {value:134, name:'安工院'}
                ],
                itemStyle: {
                    normal:{
                        label:{
                            show: true,
                            formatter: '{b} \n {c} ({d}%)'
                        },
                        labelLine :{show:true}
                    },
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }
        ]
    };
    myChart6.setOption(option6);






    var myChart7 = echarts.init(document.getElementById('main7'));
    var option7 = {
        title : {
            text: '专利申请年度趋势统计分析',
            x:'center'
        },
        xAxis: {
            type: 'category',
            data: ['2014', '2015', '2016', '2017', '2018']
        },
        yAxis: {
            type: 'value'
        },
        series: [{
            data: [120, 200, 150, 80, 70],
            type: 'bar'
        }]
    };
    myChart7.setOption(option7);


    var myChart8 = echarts.init(document.getElementById('main8'));
    var option8 = {
        title : {
            text: '专利类型占比分析',
            x:'center'
        },
        tooltip : {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c} ({d}%)"
        },
        legend: {
            type: 'scroll',
            bottom: 10,
            /* x : 10,
             y : 100, */
            data: ['发明专利','实用新型','外观专利','涉外专利']
        },
        series : [
            {
                name: '访问来源',
                type: 'pie',
                radius: ['20%', '50%'],
                avoidLabelOverlap: false,
                data:[
                    {value:135, name:'发明专利'},
                    {value:210, name:'实用新型'},
                    {value:210, name:'外观专利'},
                    {value:134, name:'涉外专利'}
                ],
                itemStyle: {
                    normal:{
                        label:{
                            show: true,
                            formatter: '{b} \n {c} ({d}%)'
                        },
                        labelLine :{show:true}
                    },
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }
        ]
    };
    myChart8.setOption(option8);


    var myChart9 = echarts.init(document.getElementById('main9'));
    var option9 = {
        title : {
            text: '研究院专利数量占比分析',
            x:'center'
        },
        tooltip : {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c} ({d}%)"
        },
        legend: {
            type: 'scroll',
            bottom: 10,
            /* x : 10,
             y : 100, */
            data: ['石勘院','物探院','工程院','石科院','抚研院','北化院','上海院','安工院']
        },
        series : [
            {
                name: '访问来源',
                type: 'pie',
                radius: ['20%', '50%'],
                avoidLabelOverlap: false,
                data:[
                    {value:135, name:'石勘院'},
                    {value:210, name:'物探院'},
                    {value:134, name:'工程院'},
                    {value:134, name:'石科院'},
                    {value:134, name:'抚研院'},
                    {value:134, name:'北化院'},
                    {value:134, name:'上海院'},
                    {value:134, name:'安工院'}
                ],
                itemStyle: {
                    normal:{
                        label:{
                            show: true,
                            formatter: '{b} \n {c} ({d}%)'
                        },
                        labelLine :{show:true}
                    },
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }
        ]
    };
    myChart9.setOption(option9);





    var myChart10 = echarts.init(document.getElementById('main10'));
    var option10 = {
        title: {
            text: '研究院科研人均指标分析',
            x:'center'
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                crossStyle: {
                    color: '#999'
                }
            }
        },
        toolbox: {
            feature: {
                dataView: {show: true, readOnly: false},
                magicType: {show: true, type: ['line', 'bar']},
                restore: {show: true},
                saveAsImage: {show: true}
            }
        },
        legend: {
            type: 'scroll',
            bottom: 10,
            data:['人均项目','人均经费','直接人均经费','人均专利','直接人均专利']
        },
        xAxis: [
            {
                type: 'category',
                data: ['石勘院','物探院','工程院','石科院','抚研院','北化院','上海院','安工院'],
                axisPointer: {
                    type: 'shadow'
                }
            }
        ],
        yAxis: [
            {
                type: 'value',
                name: '数量',
                min: 0,
                max: 250,
                axisLabel: {
                    formatter: '{value}'
                }
            },
            {
                type: 'value',
                name: '百分比',
                min: 0,
                max: 100,
                axisLabel: {
                    formatter: '{value} %'
                }
            }
        ],
        series: [
            {
                name:'人均项目',
                type:'bar',
                color: ['#37A2DA'],
                data:[22, 44, 74, 24,22, 44, 74, 24]
            },
            {
                name:'人均经费',
                type:'bar',
                color: ['#67E0E3'],
                data:[22, 24, 74, 54,22, 74, 74, 24]
            },{
                name:'直接人均经费',
                type:'bar',
                color: ['#67E0E3'],
                data:[22, 24, 74, 54,22, 74, 74, 24]
            },
            {
                name:'人均专利',
                type:'line',
                data:[1.2, 3.3, 2.2, 1.2 ,3.3, 2.4, 7.4, 2.4]
            },
            {
                name:'直接人均专利',
                type:'line',
                itemStyle : {  /*设置折线颜色*/
                    normal : {
                        color:'#c4cddc'
                    }
                },
                data:[1.2, 2.3, 32.2, 1.2 ,3.3, 7.4, 7.4, 2.4]
            }

        ]
    };

    myChart10.setOption(option10);


</script>-->
</body>
</html>
