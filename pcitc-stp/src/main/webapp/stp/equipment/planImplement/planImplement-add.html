<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <link rel="stylesheet" type="text/css" href="/layuiadmin/layui/css/layui.css">
    <link rel="stylesheet" type="text/css" href="/layuiadmin/style/common.css">
    <script type="text/javascript" src="/layuiadmin/layui/layui.js"></script>
    <script type="text/javascript" src="/layuiadmin/javascript/ckeditor5/ckeditor.js"></script>
    <script type="text/javascript" src="/plugins/jQuery/jQuery-2.2.0.min.js"></script>
    <script type="text/javascript" src="/common/js/base.js"></script>
</head>
<body>
<div class="formBox">
    <form id="sysNews-form" name="sysNews-form" lay-filter="sysNews-form" class="form-horizontal layui-form">
        <input type="hidden" name="parentUnitPathNames" id="parentUnitPathNames" value="${parentUnitPathNames}">
		<input type="hidden" name="unitPathIds" id="unitPathIds" value="${unitPathIds}">
		<input type="hidden" name="parentUnitPathIds" id="parentUnitPathIds" value="${parentUnitPathIds}">
		<input type="hidden" name="applyDepartName" id="applyDepartName" value="${applyDepartName}">
        <div class="box-body">
            <input type="hidden" name="dataId" id="dataId"/>
            <div class="layui-row">
                <div class="layui-col-xs6 layui-col-sm6 layui-col-md6">
                    <div class="layui-form-item">
                        <label for="" class="layui-form-label">规划标题<span class="must-fill">*</span></label>
                        <div class="layui-input-block">
                            <input class="layui-input" name="publicationTitle" id="publicationTitle" value=""
                                   lay-verify="required" autocomplete="off" type="text">
                        </div>
                    </div>
                </div>
                <div class="layui-col-xs6 layui-col-sm6 layui-col-md6">
                    <div class="layui-form-item">
                        <label for="" class="layui-form-label">规划类型<span class="must-fill">*</span></label>
                        <div class="layui-input-block">
                            <select name="publicationType"  id="publicationType"  class="layui-form-label" >
					             <option value="" >--请选择--</option>
							     <option value="1">研究院中长期规划</option>
							     <option value="2">研究室中长期规划</option>
							     <option value="3">课题中长期规划</option>
							     <option value="4">研究院滚动计划</option>
							     <option value="5">研究室滚动计划</option>
							     <option value="6">课题滚动计划</option>
							 </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-row">
                <div class="layui-col-xs6 layui-col-sm6 layui-col-md6">
                    <div class="layui-form-item">
                        <label for="" class="layui-form-label">发布人<span class="must-fill">*</span></label>
                        <div class="layui-input-block">
                            <input class="layui-input" name="publisher" id="publisher" value="${UserDisp}"
                                   lay-verify="required" autocomplete="off" type="text">
                        </div>
                    </div>
                </div>
                <div class="layui-col-xs6 layui-col-sm6 layui-col-md6">
                    <div class="layui-form-item">
                        <label class="layui-form-label">是否发布<span class="must-fill">*</span></label>
                        <div class="layui-input-block">
                            <select name="publicationType"  id="publicationType"  class="layui-form-label" >
							     <option value="1">是</option>
							     <option value="0">否</option>
							 </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-row">
                <div class="layui-col-xs6 layui-col-sm6 layui-col-md6">
                    <div class="layui-form-item">
                        <label class="layui-form-label">发布时间<span class="must-fill">*</span></label>
                        <div class="layui-input-block">
                            <input type="text" class="layui-input" id="publicDate" name="publicDate" >
                        </div>
                    </div>
                </div>
            </div>
            <div class="layui-row">
                <div class="layui-form-item layui-form-text">
                    <div class="layui-form-item">
                        <label class="layui-form-label">内容<span class="must-fill">*</span></label>
                        <div class="layui-input-block">
                            <textarea name="content" id="content" class="ckeditor"></textarea>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-bottom">
                        <div class="form-bottom-btns">
                            <button class="layui-btn layui-btn-sm fontColor-white btnMyBgImg layui-btn-mini layui-btn-blue" lay-submit="" lay-filter="submitBtn">保存</button>
                            <button type="button" class="layui-btn layui-btn-sm fontColor-default border-default btnMyBgImg layui-btn-mini layui-btn-white" id="closeBtn">取消</button>
                        </div>
           </div>
        </div>
    </form>
</div>
<script>
    var id = "${id?default(0)}";
    if (id != "0") {
        $("#id").val(id);
    }
    layui.use(['jquery', 'form', 'laydate', 'table', 'layer', 'element'],
        function () {
            var $ = layui.jquery, admin = layui.admin, element = layui.element, layer = layui.layer, laydate = layui.laydate, form = layui.form;
            var myEditor = null;
            ClassicEditor.create(document.querySelector('#content'),{}).then(editor => {
                myEditor = editor;
            });
            form.render(null, 'sysNews-form');
            laydate.render({
                elem: '#publicDate'
                , value: new Date()//必须遵循format参数设定的格式
                , position: 'fixed'
            });
            $("#closeBtn").click(function () {
                var index = parent.layer.getFrameIndex(window.name);
                parent.layer.close(index);
            })
        });
</script>
</body>
</html>