<!DOCTYPE html>
<html style="height: 100%">
<head>
<meta charset="utf-8">
<script type="text/javascript" src="/plugins/echarts/echarts.min.js"></script>
<script type="text/javascript" src="/plugins/echarts/echarts-gl.min.js"></script>
<script type="text/javascript" src="/plugins/echarts/ecStat.min.js"></script>
<script type="text/javascript" src="/plugins/echarts/dataTool.min.js"></script>
<script type="text/javascript" src="/plugins/echarts/china.js"></script>
<script type="text/javascript" src="/plugins/echarts/world.js"></script>
<script type="text/javascript" src="/plugins/echarts/bmap.min.js"></script>
<script type="text/javascript" src="/plugins/echarts/simplex.js"></script> 

<script type="text/javascript" src="/layuiadmin/layui/layui.js"></script>

<script type="text/javascript">
layui.use(['jquery','table','laypage',"publicMethods"], function(){
    	var $ = layui.jquery, element = layui.element, layer = layui.layer,publicMethods=layui.publicMethods;
    	var dom = document.getElementById("container");
    	var myChart = echarts.init(dom);
    	
    	var option = null;
    	var xtitle;
		var ytitle;
		var data;
		
		publicMethods.ajaxPost("/project/report-3d", null, function (data) {
			xtitle = data.x;
			ytitle = data.y;
			data = data.val;
			option = {
				    tooltip: {},
				    visualMap: {
				        max: 100,
				        inRange: {
				            color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']
				        }
				    },
				    xAxis3D: {
				        type: 'category',
				        data: xtitle
				    },
				    yAxis3D: {
				        type: 'category',
				        data: ytitle
				    },
				    zAxis3D: {
				        type: 'value'
				    },
				    grid3D: {
				        boxWidth: 200,
				        boxDepth: 80,
				        light: {
				            main: {
				                intensity: 1.2
				            },
				            ambient: {
				                intensity: 0.3
				            }
				        }
				    },
				    series: [{
				        type: 'bar3D',
				        data: data.map(function (item) {
				            return {
				                value: [item[0], item[1], item[2]]
				            }
				        }),
				        shading: 'color',
				
				        label: {
				            show: false,
				            textStyle: {
				                fontSize: 16,
				                borderWidth: 1
				            }
				        },
				        
				        itemStyle: {
				            opacity: 0.4
				        },
				
				        emphasis: {
				            label: {
				                textStyle: {
				                    fontSize: 20,
				                    color: '#900'
				                }
				            },
				            itemStyle: {
				                color: '#900'
				            }
				        }
				    }]
				};
				if (option && typeof option === "object") {
				    myChart.setOption(option, true);
				}
	    });
});
</script>
</head>
   <body style="height: 100%; margin: 0">
       <div id="container" style="height: 100%"></div>
   </body>
</html>