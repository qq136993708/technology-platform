<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <link rel="stylesheet" href="/layuiadmin/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="/layuiadmin/style/common.css">
</head>
<style>
    .echarts{height: 400px;width: 100%;box-sizing: border-box;border: 1px solid #cccccc;}
    .one-chart-box, .three-charts-box{ margin-bottom: 8px;}
    .three-charts-box .echarts{height: 400px;width: 33%; margin-right: 0.5%; box-sizing: border-box;border: 1px solid #cccccc;}
    .three-charts-box .echarts:last-child{margin-right: 0;}
    .two-charts-box{margin-top:10px}
     .two-charts-box .echarts{width: 49.7%; margin-right: 0.6%;margin-top:10px;}
    .two-charts-box .echarts:last-child{margin-right: 0;}
    
    
     .two-one-box{margin-top:10px}
     
    .two-one-box .twoBox{width: 66.5%;  margin-right: 0.5%;}
    .two-one-box .oneBox{width: 33%; margin-right: 0;}
    .three-charts-box .echarts:last-child{margin-right: 0;}
    .layui-form1{display: inline-block;padding-left: 10px;width: auto;}
    
</style>
<body>  
<div class="searchBox">
    <!--查询条件-->
        <label class="dateInput">
            <span>月份</span>
            <input type="text" name="month" placeholder="请选择月份" title="月份" autocomplete="off" class="form-control" id="month">
        </label>
       <div class="layui-input-inline">
         <select name="companyCode" id="companyCode" >
              <#list companyCodeList as vo>
              	 <#if vo.g0GSJC == '全部'>
              	 	<option value="${vo.g0GSDM}"  selected="selected">${vo.g0GSJC}</option>
              	 </#if>
                 <#if vo.g0GSJC != '全部'>
              	 	<option value="${vo.g0GSDM}">${vo.g0GSJC}</option>
              	 </#if>
               </#list>
            </select>
       </div>
       <form class="layui-form layui-form1">
            <div class="layui-input-inline">
                <#list projectCodeList as vo>
                   <input type="checkbox" name="like[write]" lay-skin="primary" title="${vo.g0XMGLLX}" checked="">
                </#list>
            </div>
        </form>

       
       
    <!--按钮组-->
    <div class="btnGroup">
        <button class="layui-btn layui-btn-sm fontColor-white btn_search btnMyBgImg" onclick="search_Event()" data-type="searchEvent">查询</button>
        <button class="layui-btn layui-btn-sm fontColor-default border-default btn_reset btnMyBgImg" data-type="resetEvent">重置</button>
    </div>
    <span class="unitBox">单位：万元</span>
</div>

<!--echarts-->
<div class="content-body container">

     <div class="one-chart-box">
         <div class="layui-row echarts">
             <div id="main1" style="width: 100%;height: 400px;"></div>
         </div>
     </div>
     
      <!--单选-->
      
       <form class="layui-form layui-form1" style="margin:20px">
            <div class="layui-input-inline">
               <input type="radio" lay-filter="radioEvent" name="sex" value="0" title="计划立项">
               <input type="radio" lay-filter="radioEvent" name="sex" value="1" title="预算批复" checked>
               <input type="radio" lay-filter="radioEvent" name="sex" value="2" title="合同执行">
               <input type="radio" lay-filter="radioEvent" name="sex" value="3" title="合同关闭">
               <input type="radio" lay-filter="radioEvent" name="sex" value="3" title="成果鉴定">
               <input type="radio" lay-filter="radioEvent" name="sex" value="3" title="科技奖励">
            </div>
        </form>
     <div class="three-charts-box">
            <div class="layui-row">
                <div class="layui-col-xs4 layui-col-sm4 layui-col-md4 echarts">
                    <div id="main2" style="width: 100%;height: 400px;"></div>
                </div>
                <div class="layui-col-xs4 layui-col-sm4 layui-col-md4 echarts">
                    <div id="main3" style="width: 100%;height: 400px;"></div>
                </div>
                <div class="layui-col-xs4 layui-col-sm4 layui-col-md4 echarts">
                    <div id="main4" style="width: 100%;height: 400px;"></div>
                </div>
            </div>
     </div> 
     
     
      <div class="one-chart-box">
         <div class="layui-row echarts">
             <div id="main5" style="width: 100%;height: 400px;"></div>
         </div>
     </div>
     
  </div>     
     



<!--表格数据操作js-->
<script src="/common/js/jquery-1.11.3.min.js"></script>
<script type="text/javascript" src="/layuiadmin/layui/layui.js"></script>
<script src="/common/js/layer-v3.1.1/layer.js"></script>
<script type="text/javascript" src="/plugins/echarts/echarts.min.js"></script>
<script type="text/javascript" src="/plugins/echarts/walden.js"></script>	
<script type="text/javascript">


var now = new Date();
layui.config({
    base: '/layuiadmin/module/modules/' 
}).use(['jquery','form', 'laydate','table','laypage'], function(){
	  $ = layui.jquery
      ,table = layui.table
      ,form = layui.form
      ,laydate = layui.laydate
	  form.render(null, 'component-form-group');
            laydate.render({
               elem: '#month'
               ,format: 'yyyyMM'
               ,value: now
            });
});

        var myChart1 = echarts.init(document.getElementById('main1'));   
        var option1 = {
      		  title: {
                    text: '年度项目数量分析',
                    x:'center'
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'cross',
                        crossStyle: {
                            color: '#999'
                        }
                    }
                },
                toolbox: {
                    feature: {
                        dataView: {show: true, readOnly: false},
                        magicType: {show: true, type: ['line', 'bar']},
                        restore: {show: true},
                        saveAsImage: {show: true}
                    }
                },
      		    legend: {
      		    	type: 'scroll',
        	        bottom: 10,
      		        data:['2018','2017','同比']
      		    },
      		    xAxis: [
      		        {
      		            type: 'category',
      		            data: ['计划立项','预算批复','合同执行','成果鉴定','科技奖励'],
      		            axisPointer: {
      		                type: 'shadow'
      		            }
      		        }
      		    ],
      		    yAxis: [
      		        {
      		            type: 'value',
      		            name: '金额（万元）',
      		            min: 0,
      		            max: 250,
      		            axisLabel: {
      		                formatter: '{value}'
      		            }
      		        },
      		        {
      		            type: 'value',
      		            name: '同比',
      		            min: 0,
      		            max: 100,
      		            axisLabel: {
      		                formatter: '{value} %'
      		            }
      		        }
      		    ],
      		    series: [
    		        {
    		            name:'2018',
    		            type:'bar',
    		            color: ['#37A2DA'],
    		            data:[22, 44, 74, 24,22]
    		        },
    		        {
    		            name:'2017',
    		            type:'bar',
    		            color: ['#67E0E3'],
    		            data:[22, 44, 74, 24]
    		        },
    		        
    		        {
    		            name:'同比',
    		            type:'line',
    		            itemStyle : {  /*设置折线颜色*/
                            normal : {
                                color:'#c4cddc'
                            }
                        },
    		            data:[1.2, 9.3, 32.2, 1.2,1.2]
    		        }
    		        
    		        
    		    ]
      		};  
          
        myChart1.setOption(option1);
        
        
        var myChart2 = echarts.init(document.getElementById('main2'));
        var option2 = {
        	    title : {
        	        text: '项目级别占比分析（个）',
        	        x:'center'
        	    },
        	    tooltip : {
        	        trigger: 'item',
        	        formatter: "{a} <br/>{b} : {c} ({d}%)"
        	    },
        	    legend: {
        	    	type: 'scroll',
        	        bottom: 10,
        	        data: ['国家项目','总部项目','企业项目']
        	    },
        	    series : [
        	        {
        	            name: '访问来源',
        	            type: 'pie',
        	            radius: ['20%', '50%'],
        	            avoidLabelOverlap: false,
        	            data:[
        	                {value:135, name:'国家项目'},
        	                {value:210, name:'总部项目'},
        	                {value:210, name:'企业项目'}
        	            ],
        	            itemStyle: {
        	            	normal:{ 
    	                        label:{ 
    	                            show: true, 
    	                            formatter: '{b} \n {c} ({d}%)' 
    	                        }, 
    	                        labelLine :{show:true} 
    	                 },
        	                emphasis: {
        	                    shadowBlur: 10,
        	                    shadowOffsetX: 0,
        	                    shadowColor: 'rgba(0, 0, 0, 0.5)'
        	                }
        	            }
        	        }
        	    ]
        	};
        myChart2.setOption(option2);
        
        
        var myChart3 = echarts.init(document.getElementById('main3'));
        var option3 = {
        	    title : {
        	        text: '管理类型占比分析（个）',
        	        x:'center'
        	    },
        	    tooltip : {
        	        trigger: 'item',
        	        formatter: "{a} <br/>{b} : {c} ({d}%)"
        	    },
        	    legend: {
        	    	type: 'scroll',
        	        bottom: 10,
        	        data: ['A','B1','B2','C']
        	    },
        	    series : [
        	        {
        	            name: '访问来源',
        	            type: 'pie',
        	            radius: ['20%', '50%'],
        	            avoidLabelOverlap: false,
        	            data:[
        	                {value:135, name:'A'},
        	                {value:210, name:'B1'},
        	                {value:210, name:'B2'},
        	                {value:134, name:'C'}
        	            ],
        	            itemStyle: {
        	            	normal:{ 
    	                        label:{ 
    	                            show: true, 
    	                            formatter: '{b} \n {c} ({d}%)' 
    	                        }, 
    	                        labelLine :{show:true} 
    	                 },
        	                emphasis: {
        	                    shadowBlur: 10,
        	                    shadowOffsetX: 0,
        	                    shadowColor: 'rgba(0, 0, 0, 0.5)'
        	                }
        	            }
        	        }
        	    ]
        	};
        myChart3.setOption(option3);
        
        
        var myChart4 = echarts.init(document.getElementById('main4'));
        var option4 = {
        	    title : {
        	        text: '单位占比分析（个）',
        	        x:'center'
        	    },
        	    tooltip : {
        	        trigger: 'item',
        	        formatter: "{a} <br/>{b} : {c} ({d}%)"
        	    },
        	    legend: {
        	    	type: 'scroll',
        	        bottom: 10,
        	        /* x : 10,  
                    y : 100, */
                    data: ['石勘院','物探院','工程院','石科院','抚研院','北化院','上海院','安工院']
        	    },
        	    series : [
        	        {
        	            name: '访问来源',
        	            type: 'pie',
        	            radius: ['20%', '50%'],
        	            avoidLabelOverlap: false,
        	            data:[
        	                {value:135, name:'石勘院'},
        	                {value:210, name:'物探院'},
        	                {value:134, name:'工程院'},
        	                {value:134, name:'石科院'},
        	                {value:134, name:'抚研院'},
        	                {value:134, name:'北化院'},
        	                {value:134, name:'上海院'},
        	                {value:134, name:'安工院'}
        	            ],
        	            itemStyle: {
        	            	normal:{ 
    	                        label:{ 
    	                            show: true, 
    	                            formatter: '{b} \n {c} ({d}%)' 
    	                        }, 
    	                        labelLine :{show:true} 
    	                 },
        	                emphasis: {
        	                    shadowBlur: 10,
        	                    shadowOffsetX: 0,
        	                    shadowColor: 'rgba(0, 0, 0, 0.5)'
        	                }
        	            }
        	        }
        	    ]
        	};
        myChart4.setOption(option4);
        
        
        
        
        
        
        var myChart5 = echarts.init(document.getElementById('main5'));   
        var option5 = {
      		  title: {
                    text: '单位项目数量同比分析',
                    x:'center'
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'cross',
                        crossStyle: {
                            color: '#999'
                        }
                    }
                },
                toolbox: {
                    feature: {
                        dataView: {show: true, readOnly: false},
                        magicType: {show: true, type: ['line', 'bar']},
                        restore: {show: true},
                        saveAsImage: {show: true}
                    }
                },
      		    legend: {
      		    	type: 'scroll',
        	        bottom: 10,
      		        data:['本年','上年','比率']
      		    },
      		    xAxis: [
      		        {
      		            type: 'category',
      		          data: ['石勘院','物探院','工程院','石科院','抚研院','北化院','上海院','安工院'],
      		            axisPointer: {
      		                type: 'shadow'
      		            }
      		        }
      		    ],
      		    yAxis: [
      		        {
      		            type: 'value',
      		            name: '金额（万元）',
      		            min: 0,
      		            max: 250,
      		            axisLabel: {
      		                formatter: '{value}'
      		            }
      		        },
      		        {
      		            type: 'value',
      		            name: '比率',
      		            min: 0,
      		            max: 100,
      		            axisLabel: {
      		                formatter: '{value} %'
      		            }
      		        }
      		    ],
      		    series: [
    		        {
    		            name:'本年',
    		            type:'bar',
    		            color: ['#37A2DA'],
    		            data:[22, 44, 74, 24,22, 44, 74, 24]
    		        },
    		        {
    		            name:'上年',
    		            type:'bar',
    		            color: ['#67E0E3'],
    		            data:[22, 44, 74, 24,22, 44, 74, 24]
    		        },
    		        
    		        {
    		            name:'比率',
    		            type:'line',
    		            itemStyle : {  /*设置折线颜色*/
                            normal : {
                                color:'#c4cddc'
                            }
                        },
    		            data:[1.2, 9.3, 32.2, 1.2,1.2, 2.3, 32.2, 8.2]
    		        }
    		        
    		        
    		    ]
      		};  
          
        myChart5.setOption(option5);
            
        function search_Event()
        {
      	  window.location.reload();
        }
    </script>
</body>
</html>
