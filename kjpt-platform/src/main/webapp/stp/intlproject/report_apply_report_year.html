<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <link rel="stylesheet" href="/layuiadmin/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="/layuiadmin/style/adminStp.css" media="all">
    <link rel="stylesheet" href="/layuiadmin/style/mainStp.css" media="all">
    <link rel="stylesheet" href="/layuiadmin/style/common.css" media="all">
    <link rel="stylesheet" href="/layuiadmin/style/second.css" media="all">
</head>
<body>
<div class="layui-fluid">
    <h3>2018国际合作项目年度立项报告</h3>
    <div class="layui-main-oil">
        <!-- <div class="searchBox">
            <div class="btnGroup" style="float:right">
                <button id="knowledge_table" class="layui-btn layui-btn-sm fontColor-blue borderColor-blue  btnMyBgImg btn_export"  data-type="exportEvent">导出</button>
            </div>
        </div> -->

        <div class="layui-row layui-col-space10">
            <div class="layui-col-md5">
                <div class="layui-card">
                    <div class="layui-card-header">
                        <span class="layui-time"></span>2018国际合作项目立项数量/金额
                    </div>
                    <div class="layui-row-main">
                        <div class="main-chart" id="chart1" style="height:280px;width: 100%;"></div>
                    </div>
                </div>
            </div>
            <div class="layui-col-md5">
                <div class="layui-card">
                    <div class="layui-card-header">
                        <span class="layui-time"></span>2018国际合作项目申报金额占比
                    </div>
                    <div class="layui-row-main">
                        <div class="main-chart" id="chart2" style="height:280px;width: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="layui-row layui-col-space10">
            <div class="layui-col-md12">
                <div class="layui-card">
                    <div class="layui-card-header">
                        <span class="layui-time"></span>年度项目申报与立项趋势图
                    </div>
                    <div class="layui-row-main">
                        <div class="main-chart" id="chart7" style="height:280px;width: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="/common/js/jquery-1.11.3.min.js"></script>
<script type="text/javascript" src="/layuiadmin/layui/layui.js"></script>
<script src="/common/js/layer-v3.1.1/layer.js"></script>
<script type="text/javascript" src="/plugins/echarts/echarts.min.js"></script>
<script type="text/javascript" src="/plugins/echarts/walden.js"></script>	
<script type="text/javascript" src="/stp/hana/common/stp_common_line.js"></script>
<script type="text/javascript" src="/stp/hana/common/stp_common_bar.js"></script>
<script type="text/javascript" src="/stp/hana/common/stp_common_pie.js"></script>
<script>
    layui.config({
        base: '/layuiadmin/lib/extend/' //静态资源所在路径
    }).extend({
        echarts: 'echarts' //主入口模块
    }).use([ 'jquery','form', 'laydate','table','layer','element','echarts'], function() {
        var $ = layui.jquery
            , laydate = layui.laydate
            , form = layui.form
            , table = layui.table
            , echarts = layui.echarts;
        
        // 基于准备好的dom，初始化echarts图表
        var myChart1 = echarts.init(document.getElementById('chart1')),
            myChart2 = echarts.init(document.getElementById('chart2')),
            myChart3 = echarts.init(document.getElementById('chart7'));

        var option1 = {
            /*title : {
                text: '2018国际合作申报项目情况一览',
                x : 'center'
            },*/
            grid:{
                x:35,
                y:30,
                x2:20,
                y2:20,
                borderWidth:1
            },
            tooltip: {
                trigger: 'axis'
            },

            xAxis: [
                {
                    type: 'category',
                    data: ['勘探院','物探院','工程院','石科院','大连院','北化院','上海院','安工院']
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    name: '数量/金额',
                    min: 0,
                    max: 50,
                    interval: 50
                }
            ],
            series: [
                {
                    name:'项目数量（个）',
                    type:'bar',
                    /*设置柱状图颜色*/
                    itemStyle: {
                        normal: {
                            color: function(params) {
                                // build a color map as your need.
                                var colorList = [
                                    '#6592b2'
                                ];
                                return colorList[params.dataIndex]
                            },
                            /*信息显示方式*/
                            label: {
                                show: true,
                                position: 'top',
                                formatter: '{b}\n{c}'
                            }
                        }
                    },
                    data:[5, 3, 13, 15, 4, 7, 9, 11]
                },
                {
                    name:'项目金额',
                    type:'line',
                    itemStyle : {  /*设置折线颜色*/
                        normal : {
                             color:'#f4964a'
                        }
                    },
                    data:[15, 6, 10, 15, 20, 25, 15,23]
                }
            ]
        };
        var option2 = {
            /*title : {
                text: '2018国际合作项目申报数量占比图',
                textStyle: {
                    color: '#000000',
                    fontStyle: 'normal',
                    fontWeight: 800,
                    fontFamily: 'sans-serif',
                    fontSize: 18,
                    textBorderColor: 'transparent',
                    textBorderWidth: 0
                },
                x:'center'
            },*/
            tooltip : {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },
            legend: {
                y : 'bottom'
            },
            calculable : true,
            series : [
                {
                    name:'访问来源',
                    type:'pie',
                    radius: ['20%', '60%'],
                    center: ['50%','40%'],
                    avoidLabelOverlap: true,   //是否启用防止标签重叠策略
                    data:[
                        {value:1490, name:'勘探院'},
                        {value:2250, name:'物探院'},
                        {value:1800, name:'工程院'},
                        {value:1750, name:'石科院'},
                        {value:1500, name:'大连院'},
                        {value:2103, name:'北化院'},
                        {value:1045, name:'上海院'},
                        {value:3034, name:'安工院'}
                    ],
                    itemStyle:{
                        normal: {
                            // color: 各异,
                            borderColor: '#fff',
                            borderWidth: 1,
                            label: {
                                show: true,
                                position: 'outer'
                            },
                            labelLine: {
                                show: true,
                                length: 20,
                                lineStyle: {
                                    // color: 各异,
                                    width: 1,
                                    type: 'solid',
                                }
                            }
                        }
                    }
                }
            ],
            color:['#87d359','#70b1aa','#f3cc42','#e79579','#349bd2', '#9799ec','#c3c784','#f4964a']
        };

        var option3 = {
           /* title : {
                text: '年度总投资增长趋势图',
                x : 'center'
            },*/
            tooltip : {
                trigger: 'axis'
            },
            grid:{
                x:70,
                y:30,
                x2:20,
                y2:20,
                borderWidth:1
            },
            legend: {
                data:['立项金额']
            },
            /*toolbox: {
                show : true,
                feature : {
                   /!*  mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType : {show: true, type: ['line', 'bar']},
                    restore : {show: true}, *!/
                    saveAsImage : {show: true}
                }
            },*/
            calculable : true,
            xAxis : [
                {
                    type : 'category',
                    boundaryGap : false,
                    data : ['2015年','2016年','2017年','2018年','2019年']
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    axisLabel : {
                        formatter: '{value} 万元'
                    }
                }
            ],
            series : [
                {
                    name:'立项金额',
                    type:'line',
                    data:[1100, 1250, 1500, 1650, 1700, 1880, 1990]
                    
                }
            ],
            color:['#FF7644','#4C96EE','#00DA65','#F287DB','#88D9FD']
        };


        // 为echarts对象加载数据
        myChart1.setOption(option1);
        myChart2.setOption(option2);
        myChart3.setOption(option3);
        var $ = layui.$, active = {
        		exportEvent: function() { //点击查询按钮
        			window.open("/intl_project/report_download/apply_list");
                }
        }
        //区别按钮属性
        $('.layui-btn').on('click', function(){
            var type = $(this).data('type');
            active[type] ? active[type].call(this) : '';
        });
    });
</script>
</body>
</html>