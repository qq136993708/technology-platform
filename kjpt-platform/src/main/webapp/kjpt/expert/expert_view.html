<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>layout 后台大布局 - Layui</title>
    <link rel="stylesheet" href="/layuiadmin/layui/css/layui.css">
    <link rel="stylesheet" href="/css/layui-common.css">
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/scientificPlatform.css">
</head>
<body>
<form class="layui-form" action="" id="formPlatform" lay-filter="formPlatform">
    <div class="layout-view-content">
        <div class="item-banner-view">
            <div class="item-details-img middle-block">
                <div class="img-box ib-block"></div>
                <div class="text-box ib-block">
                    <div class="title" diy-form-value="name"></div>
                    <ul class="text-list">
                        <li class="font16"><span class="label-text">职称：</span><span class="label-value" diy-form-value="titleStr"></span></li>
                        <li class="font16"><span class="label-text">职务：</span><span class="label-value" diy-form-value="post"></span></li>
                        <li class="font16"><span class="label-text">技术领域：</span><span class="label-value" diy-form-value="technicalField"></span></li>
                        <li class="font16"><span class="label-text">学历：</span><span class="label-value" diy-form-value="educationStr"></span></li>
                        <li class="font16"><span class="label-text">所在单位：</span><span class="label-value" diy-form-value="belongUnit">中核科技有限公司</span></li>
                    </ul>
                </div>
            </div>
            <div class="item-details-list middle-block">
                <div class="item-box-list middle-block">
                    <div class="icon-item ib-block icon001"></div>
                    <div class="item-text  ib-block font16">相关项目<span class="font20" diy-form-value="project"></span>个</div>
                </div>
                <div class="item-box-list middle-block">
                    <div class="icon-item  ib-block icon002"></div>
                    <div class="item-text  ib-block font16">参与项目评审<span class="font20">0</span>个</div>
                </div>
                <div class="item-box-list middle-block">
                    <div class="icon-item  ib-block icon003"></div>
                    <div class="item-text  ib-block font16">相关成果<span class="font20" diy-form-value="achievement"></span>个</div>
                </div>
                <div class="item-box-list middle-block">
                    <div class="icon-item  ib-block icon003"></div>
                    <div class="item-text  ib-block font16">相关奖励<span class="font20" diy-form-value="reward"></span>个</div>
                </div>
                <div class="item-box-list middle-block">
                    <div class="icon-item  ib-block icon004"></div>
                    <div class="item-text  ib-block font16">专利数量<span class="font20" diy-form-value="patent"></span>个</div>
                </div>
            </div>
        </div>

        <div class="layui-tab" lay-filter="gjj_kyxq">
            <ul class="layui-tab-title tab-btn-layout">
                <li class="layui-this">人物简介</li>
                <li>人物成就</li>
                <li>相关项目</li>
                <li>成果信息</li>
                <li>专利信息</li>
                <li>奖励信息</li>
            </ul>
            <div class="layui-tab-content">
                <div class="layui-tab-item layui-show">
                    <!-- 人物简介 -->
                    <div class="bg-blue-box">
                        <div class="bg-blue-title font20" diy-form-value="name"></div>
                        <div class="bg-blue-p" diy-form-value="brief"></div>
                    </div>
                </div>
                <div class="layui-tab-item">
                    <!-- 人物成就 -->
                    <div class="bg-blue-box">
                        <div class="bg-blue-title font20" diy-form-value="name"></div>
                        <div class="bg-blue-p" diy-form-value="achievement"></div>
                    </div>
                </div>
                <div class="layui-tab-item">
                    <!-- 相关项目 -->
                    <table id="leadingFigure"></table>
                </div>
                <div class="layui-tab-item">
                    <!-- 成果信息 -->
                    <table id="tablePaper"></table>
                </div>
                <div class="layui-tab-item">
                    <!-- 专利信息 -->
                    <table id="teamMembers"></table>
                </div>
                <div class="layui-tab-item">
                    <!-- 奖励信息 -->
                    <table id="mainAchievements"></table>
                </div>

            </div>
        </div>
    </div>
</form>
<script type="text/javascript" src="/plugins/jQuery/jQuery-2.2.0.min.js"></script>
<script src="/layuiadmin/layui/layui.js"></script>
<script src="/layuiadmin/js/common.js"></script>
<script>
    //Demo
    layui.use(['form', 'table', 'layer', 'element'], function(){
        var form = layui.form,$ = layui.$,table = layui.table, element = layui.element;
        // 获取页面参数ID
        var variable = getQueryVariable();
        console.log(variable)
        if(variable!=null){
            httpModule({
                url: '/expert-api/get/'+variable.id,
                type: 'GET',
                success: function(relData) {
                    if (relData.success === true) {
                        relData.data.achievement=JSON.parse(relData.data.zjkAchievementJsonList).length
                        relData.data.patent=JSON.parse(relData.data.zjkPatentJsonList).length
                        relData.data.project=JSON.parse(relData.data.zjkProjectJsonList).length
                        relData.data.reward=JSON.parse(relData.data.zjkRewardJsonList).length

                        setTargetNameValue(relData.data)
                        console.log(relData)
                    }
                }
            });
        }

    });
</script>
</body>
</html>